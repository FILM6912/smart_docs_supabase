# Smart Documents Supabase

р╕гр╕░р╕Ър╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Ар╕нр╕Бр╕кр╕▓р╕гр╕нр╕▒р╕Ир╕Йр╕гр╕┤р╕вр╕░р╕Чр╕╡р╣Ир╕Юр╕▒р╕Тр╕Щр╕▓р╕Фр╣Йр╕зр╕в FastAPI р╣Бр╕ер╕░ Supabase р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Ар╕нр╕Бр╕кр╕▓р╕г р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й р╣Бр╕ер╕░р╕Бр╕▓р╕гр╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Хр╕▒р╕зр╕Хр╕Щ

## р╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤

- ЁЯУЭ р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Ар╕нр╕Бр╕кр╕▓р╕гр╕нр╕▒р╕Ир╕Йр╕гр╕┤р╕вр╕░
- ЁЯСе р╕гр╕░р╕Ър╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й
- ЁЯФР р╕Бр╕▓р╕гр╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Хр╕▒р╕зр╕Хр╕Щр╣Бр╕ер╕░р╕Бр╕▓р╕гр╕нр╕Щр╕╕р╕Нр╕▓р╕Х
- ЁЯП╖я╕П р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╣Ар╕нр╕Бр╕кр╕▓р╕г
- ЁЯФН р╕Бр╕▓р╕гр╕Др╣Йр╕Щр╕лр╕▓р╣Бр╕ер╕░р╕Бр╕▓р╕гр╕Эр╕▒р╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б (Embedding)
- ЁЯР│ р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╣Гр╕Щ Docker

## р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣М

```
smart_docs_supabase/
тФЬтФАтФА src/
тФВ   тФЬтФАтФА auth/              # р╕гр╕░р╕Ър╕Ър╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Хр╕▒р╕зр╕Хр╕Щ
тФВ   тФЬтФАтФА database/          # р╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е Supabase
тФВ   тФЬтФАтФА documents/         # р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Ар╕нр╕Бр╕кр╕▓р╕г
тФВ   тФФтФАтФА users/             # р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й
тФЬтФАтФА main.py                # р╣Др╕Яр╕ер╣Мр╕лр╕ер╕▒р╕Бр╕Вр╕нр╕Зр╣Бр╕нр╕Ыр╕Юр╕ер╕┤р╣Ар╕Др╕Кр╕▒р╕Щ
тФЬтФАтФА requirements.txt       # Dependencies р╕Вр╕нр╕З Python
тФЬтФАтФА Dockerfile            # р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ Docker
тФЬтФАтФА docker-compose.yaml   # р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ Docker Compose
тФФтФАтФА .env                  # р╕Хр╕▒р╕зр╣Бр╕Ыр╕гр╕кр╕ар╕▓р╕Юр╣Бр╕зр╕Фр╕ер╣Йр╕нр╕б
```

## р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╣Бр╕ер╕░р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╕Фр╣Йр╕зр╕в Docker (р╣Бр╕Щр╕░р╕Щр╕│)

1. р╣Вр╕Др╕ер╕Щр╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣М:
```bash
git clone <repository-url>
cd smart_docs_supabase
```

2. р╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М `.env` р╣Бр╕ер╕░р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕Хр╕▒р╕зр╣Бр╕Ыр╕гр╕кр╕ар╕▓р╕Юр╣Бр╕зр╕Фр╕ер╣Йр╕нр╕б:
```env
SUPABASE_URL=your_supabase_url
SUPABASE_KEY=your_supabase_key
SECRET_KEY=your_secret_key
```

3. р╕гр╕▒р╕Щр╕Фр╣Йр╕зр╕в Docker Compose:
```bash
docker-compose up --build
```

4. р╣Ар╕Вр╣Йр╕▓р╕Цр╕╢р╕З API р╣Др╕Фр╣Йр╕Чр╕╡р╣И: http://localhost:8002
5. р╣Ар╕нр╕Бр╕кр╕▓р╕г API: http://localhost:8002/docs

### р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╣Бр╕Ър╕Ъ Manual

1. р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З dependencies:
```bash
pip install -r requirements.txt
```

2. р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕Хр╕▒р╕зр╣Бр╕Ыр╕гр╕кр╕ар╕▓р╕Юр╣Бр╕зр╕Фр╕ер╣Йр╕нр╕бр╣Гр╕Щр╣Др╕Яр╕ер╣М `.env`

3. р╕гр╕▒р╕Щр╣Бр╕нр╕Ыр╕Юр╕ер╕┤р╣Ар╕Др╕Кр╕▒р╕Щ:
```bash
python main.py
```

## API Endpoints

### Authentication
- `POST /auth/login` - р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ
- `POST /auth/register` - р╕кр╕бр╕▒р╕Др╕гр╕кр╕бр╕▓р╕Кр╕┤р╕Б

### Users
- `GET /users/` - р╕Фр╕╣р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
- `GET /users/{user_id}` - р╕Фр╕╣р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Хр╕▓р╕б ID
- `PUT /users/{user_id}` - р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й
- `DELETE /users/{user_id}` - р╕ер╕Ър╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й

### Documents
- `GET /documents/` - р╕Фр╕╣р╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
- `POST /documents/` - р╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕нр╕Бр╕кр╕▓р╕гр╣Гр╕лр╕бр╣И
- `GET /documents/{doc_id}` - р╕Фр╕╣р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Хр╕▓р╕б ID
- `PUT /documents/{doc_id}` - р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╣Ар╕нр╕Бр╕кр╕▓р╕г
- `DELETE /documents/{doc_id}` - р╕ер╕Ър╣Ар╕нр╕Бр╕кр╕▓р╕г

### Categories
- `GET /categories/` - р╕Фр╕╣р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
- `POST /categories/` - р╕кр╕гр╣Йр╕▓р╕Зр╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╣Гр╕лр╕бр╣И
- `GET /categories/{cat_id}` - р╕Фр╕╣р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╕Хр╕▓р╕б ID
- `PUT /categories/{cat_id}` - р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И
- `DELETE /categories/{cat_id}` - р╕ер╕Ър╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И

## Dependencies

- FastAPI - р╣Ар╕Яр╕гр╕бр╣Ар╕зр╕┤р╕гр╣Мр╕Бр╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕гр╣Йр╕▓р╕З API
- Supabase - р╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Бр╕ер╕░р╕Ър╕гр╕┤р╕Бр╕▓р╕гр╣Бр╕Ър╣Зр╕Бр╣Ар╕нр╕Щр╕Фр╣М
- Uvicorn - ASGI server
- Pydantic - р╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е
- Python-jose - р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕г JWT
- Passlib - р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ
- OpenAI - р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Эр╕▒р╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б (Embedding)

## р╕Бр╕▓р╕гр╕Юр╕▒р╕Тр╕Щр╕▓

1. р╕кр╕гр╣Йр╕▓р╕З branch р╣Гр╕лр╕бр╣Ир╕кр╕│р╕лр╕гр╕▒р╕Ър╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╣Гр╕лр╕бр╣И:
```bash
git checkout -b feature/new-feature
```

2. р╕Чр╕│р╕Бр╕▓р╕г commit р╣Бр╕ер╕░ push:
```bash
git commit -m "Add new feature"
git push origin feature/new-feature
```

3. р╕кр╕гр╣Йр╕▓р╕З Pull Request р╣Ар╕Юр╕╖р╣Ир╕нр╕гр╕╡р╕зр╕┤р╕зр╣Вр╕Др╣Йр╕Ф

## р╣Гр╕Ър╕нр╕Щр╕╕р╕Нр╕▓р╕Х

р╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣Мр╕Щр╕╡р╣Йр╣Гр╕Кр╣Йр╣Гр╕Ър╕нр╕Щр╕╕р╕Нр╕▓р╕Х MIT License